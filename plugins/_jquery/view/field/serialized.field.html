<!-- A key/value object editor for json fields -->
	<div id='{{field.uid}}'></div>
	<a class="btn btn-mini btn-success" onclick="add_field_{{field.uid}}('', '');">Új elem</a>

	<script language="javascript">
		function add_field_{{field.uid}}(key, val){
			var el = $("<div class='alert alert-info'><input class='field text input-mini' type='text' name='{{field.name}}[value][]' placeholder='Kulcs' value='"+val+"'> - <input class='field text input-small' type='text' name='{{field.name}}[key][]' placeholder='Érték' value='"+key+"'> <a class='close' href='#delete' onclick=\"$(this).parents('div.alert').first().remove();\">&times;</a></div>");
			$('#{{field.uid}}').append(el);
		}
		{% if field.value %}
			zaj.ready(function(){
				{% foreach field.value as val %}
					add_field_{{field.uid}}('{{forloop.key|escapejs}}', '{{val|escapejs}}');
				{% endforeach %}
			});
		{% endif %}
	</script>