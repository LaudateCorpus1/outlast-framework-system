{% lang 'system/fields' 'richtext' %}

<!-- load up medium editor -->
<script src="{{baseurl}}system/js/medium-editor/medium-editor.js"></script>
<link rel="stylesheet" href="{{baseurl}}system/css/medium-editor/medium-editor.css">
<link rel="stylesheet" href="{{baseurl}}system/css/medium-editor/themes/bootstrap.css">

<div style="height: auto;" class="ofw-field-textarea form-control" id="medium-editor-{{field.uid}}">{{field.value|strip_attribute:'style'|safe}}</div>
<script>
	var mediumEditors;
	if(typeof mediumEditors == 'undefined') mediumEditors = {};
	mediumEditors['{{field.uid}}'] = new MediumEditor('#medium-editor-{{field.uid}}', {
		toolbar: {
			buttons: ['bold', 'italic', 'underline', 'anchor', 'orderedlist', 'unorderedlist', 'h2', 'h3', 'quote', 'removeFormat']
		},
		placeholder: {
	        text: '{{#system_field_richtext_placeholder#}}',
    	    hideOnClick: true
    	}
   	});
	mediumEditors['{{field.uid}}'].subscribe('editableInput', function(){
		$('#textarea-{{field.uid}}').html($('#medium-editor-{{field.uid}}').html());
	});
</script>
<textarea class='ofw-field-text form-control hide' id='textarea-{{field.uid}}' name='{{field.name}}'>{{field.value|safe|escape:'htmlall'}}</textarea>